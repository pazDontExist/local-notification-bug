"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4671],{5642:(M,p,i)=>{i.d(p,{K:()=>c});var s=i(6895),n=i(2216),u=i(8274);let c=(()=>{class g{}return g.\u0275fac=function(_){return new(_||g)},g.\u0275mod=u.oAB({type:g}),g.\u0275inj=u.cJS({imports:[s.ez,n.uH]}),g})()},1360:(M,p,i)=>{i.d(p,{U:()=>u});var s=i(8274),n=i(2216);let u=(()=>{class c{constructor(){}ngOnInit(){}}return c.\u0275fac=function(l){return new(l||c)},c.\u0275cmp=s.Xpm({type:c,selectors:[["app-footerbtn"]],decls:4,vars:0,consts:[[1,"footer-menu-btn"],["icon","bars"],[1,"footer-menu-close-btn"],["icon","times"]],template:function(l,_){1&l&&(s.TgZ(0,"a",0),s._UZ(1,"fa-icon",1),s.qZA(),s.TgZ(2,"a",2),s._UZ(3,"fa-icon",3),s.qZA())},dependencies:[n.BN]}),c})()},9201:(M,p,i)=>{i.d(p,{k:()=>b});var s=i(6916),n=i(8274),u=i(7469),c=i(5014),g=i(6895),l=i(2216);const _=function(){return["/dashboard"]},f=function(){return["/mood"]},e=function(){return["/pills"]},v=function(){return["/calendar"]},T=function(){return["/medico"]},P=function(){return["/diario"]},I=function(){return["/files"]},y=function(){return["/report"]},A=function(){return["/profile"]},z=function(){return["/impostazioni"]},U=function(){return["/aboutus"]},J=function(){return["/updates"]};let b=(()=>{class Z{constructor(m,t){this.router=m,this.storageService=t,this.url1="",this.appVersion=s.N.appVersion}loginPage(){this.storageService.clear(),this.router.navigate(["/login"])}ngOnInit(){this.url1=this.router.url}}return Z.\u0275fac=function(m){return new(m||Z)(n.Y36(u.F0),n.Y36(c.V))},Z.\u0275cmp=n.Xpm({type:Z,selectors:[["app-sidebar"]],decls:73,vars:37,consts:[[1,"main-menu-box"],[1,"header"],[1,"container"],[1,"logo"],["src","../../../assets/images/logo.png",1,"w-100"],[1,"subtitle"],[1,"nav","flex-column","flex-nowrap","main-menu","overflow-hidden"],[1,"nav-item"],[1,"nav-link",3,"routerLink","ngClass"],["icon","dashboard"],[1,"nav-link",3,"ngClass","routerLink"],["icon","smile-beam"],[1,"submenu","nav-link",3,"routerLink","ngClass"],["icon","pills"],["icon","calendar"],["icon","user-doctor"],["icon","clipboard"],["icon","file"],["icon","list-numeric"],["icon","user-astronaut"],["icon","gears"],["icon","info-circle"],["icon","adjust"],[1,"singout-btn"],[3,"click"],["icon","arrow-right"]],template:function(m,t){1&m&&(n.TgZ(0,"aside",0)(1,"div",1)(2,"div",2)(3,"div",3),n._UZ(4,"img",4),n.qZA(),n.TgZ(5,"div",5),n._uU(6),n.qZA()()(),n.TgZ(7,"div",2)(8,"ul",6)(9,"li",7)(10,"a",8)(11,"span"),n._UZ(12,"fa-icon",9),n._uU(13," Dashboard"),n.qZA()()(),n.TgZ(14,"li",7)(15,"a",10)(16,"span"),n._UZ(17,"fa-icon",11),n._uU(18," Umore"),n.qZA()()(),n.TgZ(19,"li",7)(20,"a",12)(21,"span"),n._UZ(22,"fa-icon",13),n._uU(23," Farmaci "),n.qZA()()(),n.TgZ(24,"li",7)(25,"a",8)(26,"span"),n._UZ(27,"fa-icon",14),n._uU(28," Calendario"),n.qZA()()(),n.TgZ(29,"li",7)(30,"a",8)(31,"span"),n._UZ(32,"fa-icon",15),n._uU(33," Medico"),n.qZA()()(),n.TgZ(34,"li",7)(35,"a",8)(36,"span"),n._UZ(37,"fa-icon",16),n._uU(38," Diario"),n.qZA()()(),n.TgZ(39,"li",7)(40,"a",8)(41,"span"),n._UZ(42,"fa-icon",17),n._uU(43," File Condivisi"),n.qZA()()(),n.TgZ(44,"li",7)(45,"a",8)(46,"span"),n._UZ(47,"fa-icon",18),n._uU(48," Report"),n.qZA()()(),n.TgZ(49,"li",7)(50,"a",8)(51,"span"),n._UZ(52,"fa-icon",19),n._uU(53," Profilo"),n.qZA()()(),n.TgZ(54,"li",7)(55,"a",8)(56,"span"),n._UZ(57,"fa-icon",20),n._uU(58," Impostazioni"),n.qZA()()(),n.TgZ(59,"li",7)(60,"a",8)(61,"span"),n._UZ(62,"fa-icon",21),n._uU(63," Questa App"),n.qZA()()(),n.TgZ(64,"li",7)(65,"a",8)(66,"span"),n._UZ(67,"fa-icon",22),n._uU(68," Aggiornamenti APP"),n.qZA()()()()(),n.TgZ(69,"div",23)(70,"a",24),n.NdJ("click",function(){return t.loginPage()}),n._uU(71,"Log Out "),n._UZ(72,"fa-icon",25),n.qZA()()()),2&m&&(n.xp6(6),n.hij("Versione: ",t.appVersion,""),n.xp6(4),n.Q6J("routerLink",n.DdM(25,_))("ngClass","/dashboard"===t.url1?"active ":""),n.xp6(5),n.Q6J("ngClass","/mood"===t.url1?"active":"")("routerLink",n.DdM(26,f)),n.xp6(5),n.Q6J("routerLink",n.DdM(27,e))("ngClass","/pills"===t.url1||"/pills"===t.url1?"active ":""),n.xp6(5),n.Q6J("routerLink",n.DdM(28,v))("ngClass","/calendar"===t.url1?"active":""),n.xp6(5),n.Q6J("routerLink",n.DdM(29,T))("ngClass","/medico"===t.url1?"active":""),n.xp6(5),n.Q6J("routerLink",n.DdM(30,P))("ngClass","/diario"===t.url1?"active":""),n.xp6(5),n.Q6J("routerLink",n.DdM(31,I))("ngClass","/files"===t.url1?"active":""),n.xp6(5),n.Q6J("routerLink",n.DdM(32,y))("ngClass","/report"===t.url1?"active":""),n.xp6(5),n.Q6J("routerLink",n.DdM(33,A))("ngClass","/profile"===t.url1?"active":""),n.xp6(5),n.Q6J("routerLink",n.DdM(34,z))("ngClass","/impostazioni"===t.url1?"active":""),n.xp6(5),n.Q6J("routerLink",n.DdM(35,U))("ngClass","/aboutus"===t.url1?"active":""),n.xp6(5),n.Q6J("routerLink",n.DdM(36,J))("ngClass","/updates"===t.url1?"active":""))},dependencies:[g.mk,l.BN,u.rH]}),Z})()},906:(M,p,i)=>{i.r(p),i.d(p,{ProfilePageModule:()=>Z});var s=i(6895),n=i(433),u=i(8058),c=i(7469),g=i(655),l=i(6534),_=i(53),f=i(6916),e=i(8274),v=i(5014),T=i(4465),P=i(1360),I=i(9201),y=i(2216);const A=function(){return["/dashboard"]},U=[{path:"",component:(()=>{class r{constructor(t,o,h,d){this.loadingCtrl=t,this.storageService=o,this.toastCtrl=h,this.router=d,this.myInfo={full_name:"",pic:"",email:"",uid:0,f_name:"",l_name:"",locale:"",reg_date:"",account_status:"",cf:"",dob:"",height:"",weight:"",telefono:"",em_nome:"",em_telefono:"",indirizzo:""}}ngOnInit(){this.retrieveInfo()}retrieveInfo(){return(0,g.mG)(this,void 0,void 0,function*(){yield this.loadingCtrl.create({message:"Caricamento...",spinner:"circles"}),this.storageService.get("user_data").then(o=>{this.myInfo.full_name=o.f_name+" "+o.l_name,this.myInfo.pic=o.pic,this.myInfo.email=o.email,this.myInfo.uid=o.uid,this.myInfo.f_name=o.f_name,this.myInfo.l_name=o.l_name,this.myInfo.locale=o.locale,this.myInfo.reg_date=o.reg_date,this.myInfo.account_status=o.account_status,this.myInfo.cf=o.cf,this.myInfo.dob=o.dob,this.myInfo.height=o.height,this.myInfo.weight=o.weight,this.myInfo.em_nome=o.em_nome,this.myInfo.em_telefono=o.em_telefono,this.myInfo.indirizzo=o.address||o.indirizzo,this.myInfo.telefono=o.telefono})})}submitForm(t){return(0,g.mG)(this,void 0,void 0,function*(){const o=yield this.loadingCtrl.create({message:"Caricamento...",spinner:"circles"});let h;o.present(),yield this.storageService.get("access_token").then(C=>{h=C});const d={headers:{Authorization:`Bearer ${h}`,"Content-Type":"application/x-wwww-form-urlencoded"}};l.Z.post(f.N.apiURL+"mobile/api/patient/update",JSON.stringify({f_name:t.value.f_name,l_name:t.value.l_name,dob:t.value.dob,em_nome:t.value.em_nome,em_telefono:t.value.em_telefono,height:t.value.height,weight:t.value.weight,telefono:t.value.telefono,cf:t.value.cf,indirizzo:t.value.indirizzo}),d).then(C=>{console.log(C),this.toastCtrl.presentToast(C.data.message),this.myInfo.full_name=t.value.f_name+" "+t.value.l_name,this.myInfo.f_name=t.value.f_name,this.myInfo.l_name=t.value.l_name,this.myInfo.cf=t.value.cf,this.myInfo.dob=t.value.dob,this.myInfo.height=t.value.height,this.myInfo.weight=t.value.weight,this.myInfo.em_nome=t.value.em_nome,this.myInfo.em_telefono=t.value.em_telefono,this.myInfo.indirizzo=t.value.indirizzo,this.myInfo.telefono=t.value.telefono,console.log(this.myInfo.telefono,t.value.telefono),this.storageService.store("user_data",this.myInfo),o.dismiss()}).catch(C=>{console.log("axios error",C),this.toastCtrl.presentToast(C.message),o.dismiss()})})}getDate(t){let o=new Date(t.target.value).toISOString().substring(0,10);this.profileForm.get("dob").setValue(o,{onlyself:!0})}do_logout(){return(0,g.mG)(this,void 0,void 0,function*(){!0===(yield _.V.confirm({title:"Attenzione",message:"Sicuro di voler effettuare il logout ?"})).value&&(this.storageService.clear(),this.router.navigate(["home"]))})}eliminaAccount(){return(0,g.mG)(this,void 0,void 0,function*(){if(!0===(yield _.V.confirm({title:"Attenzione",message:"Questa azione \xe8 irreversibile, perderai tutti i tuoi dati e progressi. Sei sicuro ?"})).value){this.storageService.clear();const o=yield this.loadingCtrl.create({message:"Caricamento...",spinner:"circles"});let h;o.present(),yield this.storageService.get("access_token").then(a=>{h=a}),l.Z.get(f.N.apiURL+"mobile/api/patient/delete_account",{headers:{Authorization:`Bearer ${h}`,"Content-Type":"application/x-wwww-form-urlencoded"}}).then(a=>{console.log(a),this.toastCtrl.presentToast(a.data.message),o.dismiss(),this.router.navigate(["home"])}).catch(a=>{console.log("axios error",a),this.toastCtrl.presentToast(a.message),o.dismiss()})}})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(u.HT),e.Y36(v.V),e.Y36(T.k),e.Y36(c.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-profile"]],decls:66,vars:15,consts:[[1,"profile","page-background"],[1,"container"],[1,"header"],[1,"row"],[1,"col-8"],[1,"back-btn",3,"routerLink"],["icon","angle-left"],[1,"title"],[1,"top-part"],[1,"profile-pic"],[1,"w-100",3,"src"],[1,"name"],[1,"position"],[1,"activities"],["novalidate","",1,"modern",3,"ngSubmit"],["form","ngForm"],[1,"box"],[1,"label"],["type","text","required","","ngControl","f_name","name","f_name",1,"form-control",3,"ngModel","ngModelChange"],["type","text","required","","ngControl","l_name","name","l_name",1,"form-control",3,"ngModel","ngModelChange"],["type","text","required","","ngControl","cf","name","cf","maxlength","16",1,"form-control",3,"ngModel","ngModelChange"],["type","date","required","","ngControl","dob","name","dob",1,"form-control",3,"ngModel","ngModelChange"],["type","number","required","","ngControl","height","name","height",1,"form-control",3,"ngModel","ngModelChange"],["type","number","required","","ngControl","weight","name","weight",1,"form-control",3,"ngModel","ngModelChange"],["type","tel","required","","ngControl","telefono","name","telefono",1,"form-control",3,"ngModel","ngModelChange"],["type","text","required","","ngControl","em_nome","name","em_nome",1,"form-control",3,"ngModel","ngModelChange"],["type","tel","required","","ngControl","em_telefono","name","em_telefono",1,"form-control",3,"ngModel","ngModelChange"],["type","text","required","","ngControl","indirizzo","name","indirizzo",1,"form-control",3,"ngModel","ngModelChange"],[1,"counter-part"],[1,"value"],["expand","full","type","submit"],["expand","full","color","warning",3,"click"],["color","danger","expand","full",3,"click"]],template:function(t,o){if(1&t){const h=e.EpF();e._UZ(0,"app-sidebar"),e.TgZ(1,"ion-content",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"a",5),e._UZ(7,"fa-icon",6),e.qZA(),e.TgZ(8,"span",7),e._uU(9,"Il Mio Profilo"),e.qZA()()()(),e.TgZ(10,"div",8)(11,"div",9),e._UZ(12,"img",10),e.qZA(),e.TgZ(13,"div",11),e._uU(14),e.qZA(),e.TgZ(15,"div",12),e._uU(16),e.qZA()(),e.TgZ(17,"div",13)(18,"form",14,15),e.NdJ("ngSubmit",function(){e.CHM(h);const a=e.MAs(19);return e.KtG(o.submitForm(a))}),e.TgZ(20,"div",16)(21,"div",17),e._uU(22,"Nome"),e.qZA(),e.TgZ(23,"input",18),e.NdJ("ngModelChange",function(a){return o.myInfo.f_name=a}),e.qZA(),e.TgZ(24,"div",17),e._uU(25,"Cognome"),e.qZA(),e.TgZ(26,"input",19),e.NdJ("ngModelChange",function(a){return o.myInfo.l_name=a}),e.qZA(),e.TgZ(27,"div",17),e._uU(28,"Codice Fiscale"),e.qZA(),e.TgZ(29,"input",20),e.NdJ("ngModelChange",function(a){return o.myInfo.cf=a}),e.qZA(),e.TgZ(30,"div",17),e._uU(31,"Data di Nascita"),e.qZA(),e.TgZ(32,"input",21),e.NdJ("ngModelChange",function(a){return o.myInfo.dob=a}),e.qZA(),e.TgZ(33,"div",17),e._uU(34,"Altezza (cm)"),e.qZA(),e.TgZ(35,"input",22),e.NdJ("ngModelChange",function(a){return o.myInfo.height=a}),e.qZA(),e.TgZ(36,"div",17),e._uU(37,"Peso (kg)"),e.qZA(),e.TgZ(38,"input",23),e.NdJ("ngModelChange",function(a){return o.myInfo.weight=a}),e.qZA(),e.TgZ(39,"div",17),e._uU(40,"Telefono"),e.qZA(),e.TgZ(41,"input",24),e.NdJ("ngModelChange",function(a){return o.myInfo.telefono=a}),e.qZA(),e.TgZ(42,"div",17),e._uU(43,"Contatto di Emergenza"),e.qZA(),e.TgZ(44,"input",25),e.NdJ("ngModelChange",function(a){return o.myInfo.em_nome=a}),e.qZA(),e.TgZ(45,"div",17),e._uU(46,"Numero del Contatto di Emergenza"),e.qZA(),e.TgZ(47,"input",26),e.NdJ("ngModelChange",function(a){return o.myInfo.em_telefono=a}),e.qZA(),e.TgZ(48,"div",17),e._uU(49,"Il Mio Indirizzo"),e.qZA(),e.TgZ(50,"input",27),e.NdJ("ngModelChange",function(a){return o.myInfo.indirizzo=a}),e.qZA()(),e.TgZ(51,"div",28)(52,"ul")(53,"li")(54,"div",29)(55,"ion-button",30),e._uU(56,"AGGIORNA INFO"),e.qZA()()(),e.TgZ(57,"li")(58,"div",29)(59,"ion-button",31),e.NdJ("click",function(){return o.do_logout()}),e._uU(60,"LOGOUT"),e.qZA()()(),e.TgZ(61,"li")(62,"div",29)(63,"ion-button",32),e.NdJ("click",function(){return o.eliminaAccount()}),e._uU(64,"ELIMINA ACCOUNT"),e.qZA()()()()()()()()(),e._UZ(65,"app-footerbtn")}2&t&&(e.xp6(6),e.Q6J("routerLink",e.DdM(14,A)),e.xp6(6),e.s9C("src",o.myInfo.pic,e.LSH),e.xp6(2),e.Oqu(o.myInfo.full_name),e.xp6(2),e.Oqu(o.myInfo.email),e.xp6(7),e.Q6J("ngModel",o.myInfo.f_name),e.xp6(3),e.Q6J("ngModel",o.myInfo.l_name),e.xp6(3),e.Q6J("ngModel",o.myInfo.cf),e.xp6(3),e.Q6J("ngModel",o.myInfo.dob),e.xp6(3),e.Q6J("ngModel",o.myInfo.height),e.xp6(3),e.Q6J("ngModel",o.myInfo.weight),e.xp6(3),e.Q6J("ngModel",o.myInfo.telefono),e.xp6(3),e.Q6J("ngModel",o.myInfo.em_nome),e.xp6(3),e.Q6J("ngModel",o.myInfo.em_telefono),e.xp6(3),e.Q6J("ngModel",o.myInfo.indirizzo))},dependencies:[n._Y,n.Fj,n.wV,n.JJ,n.JL,n.Q7,n.nD,n.On,n.F,u.YG,u.W2,u.Fo,c.rH,P.U,I.k,y.BN]}),r})()}];let J=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[c.Bz.forChild(U),c.Bz]}),r})();var b=i(5642);let Z=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[s.ez,n.u5,u.Pc,J,b.K,y.uH]}),r})()},5014:(M,p,i)=>{i.d(p,{V:()=>g});var s=i(655);const u=(0,i(7423).fo)("Preferences",{web:()=>i.e(8359).then(i.bind(i,8359)).then(l=>new l.PreferencesWeb)});var c=i(8274);let g=(()=>{class l{constructor(){}store(f,e){return(0,s.mG)(this,void 0,void 0,function*(){const v=btoa(escape(JSON.stringify(e)));yield u.set({key:f,value:v})})}get(f){return(0,s.mG)(this,void 0,void 0,function*(){const e=yield u.get({key:f});try{return JSON.parse(unescape(atob(e.value)))}catch(v){return!1}})}removeStorageItem(f){return(0,s.mG)(this,void 0,void 0,function*(){yield u.remove({key:f})})}clear(){return(0,s.mG)(this,void 0,void 0,function*(){yield u.clear()})}}return l.\u0275fac=function(f){return new(f||l)},l.\u0275prov=c.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()}}]);